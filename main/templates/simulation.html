
{% load static %}
{% block title %}Simulação da NeedWatt{%endblock %}
{% block meta_description %}Faça já uma simulação do seu plano energético com NeedWatt{% endblock %}

<!DOCTYPE html>
<html lang="en">

  <head>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">
    <link href="https://fonts.googleapis.com/css?family=Poppins:100,200,300,400,500,600,700,800,900&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400;500;600;700&display=swap" rel="stylesheet">


    <title>NeedWatt</title>
    <!-- Additional CSS Files -->
    <link rel="stylesheet" type="text/css" href="{% static 'main/css/bootstrap.min.css' %}">

    <link rel="stylesheet" type="text/css" href="{% static 'main/css/font-awesome.css' %}">

    <link rel="stylesheet" href="{% static 'main/css/main.css' %}">

    <link rel="stylesheet" href="{% static 'main/css/owl-carousel.css' %}">

    <link rel="stylesheet" href="{% static 'main/css/lightbox.css' %}">

    </head>

    <body>

    <!-- ***** Preloader Start ***** -->
    <div id="preloader">
        <div class="jumper">
            <div></div>
            <div></div>
            <div></div>
        </div>
    </div>
    <!-- ***** Preloader End ***** -->


    <!-- ***** Header Area Start ***** -->
    <header class="header-area header-sticky">
        <div class="container">
            <div class="row">
                <div class="col-12">
                    <nav class="main-nav">
                        <!-- ***** Logo Start ***** -->
                        <a href="./home.html" class="logo">
                            <img src="{% static 'main/images/logo1.png' %}" align="center">
                        </a>
                        <!-- ***** Logo End ***** -->
                        <!-- ***** Menu Start ***** -->
                        <ul class="nav">
                            <li class="scroll-to-section"><a href="#top">Home</a></li>
                            <li class="submenu">
                                <a href="javascript:;">Serviços</a>
                                <ul>
                                    <li><a href="./autit_cert_ener.html"><strong>Auditoria e Certificação Energética</strong></a></li>
                                    <li><a href="./autoconsumo_foto.html"><strong>Autoconsumo Fotovoltaico</strong></a></li>
                                    <li><a href="./bater_conde.html"><strong>Baterias de Condensadores</strong></a></li>
                                    <li><a href="./carrega_viatu_eletric.html"><strong>Carregamento de viaturas elétricas</strong></a></li>
                                    <li><a href="./ilumina_led.html"><strong>Iluminação Led</strong></a></li>
                                    <li><a href="./merca_lib_ener.html"><strong>Mercado Liberalizado de Energia Elétrica e Gás</strong></a></li>
                                    <li><a href="./sistem_monito_energ.html"><strong>Sistema de Monitorização de Energia</strong></a></li>
                                </ul>
                            </li>
                            <li class="scroll-to-section"><a href="#about">Sobre</a></li>
                            <li class="scroll-to-section"><a href="#contacts">Contactos</a></li>
                            <li><a href="./simulation.html" class="active">Simulação</a></li>
                        </ul>
                        <a class='menu-trigger'>
                        <!-- ***** Menu End ***** -->
                    </nav>
                </div>
            </div>
        </div>
    </header>
    <!-- ***** Header Area End ***** -->
  <script language="javascript">
      const cicle = new Array();
      cicle[0] = new Array("Selecione o ciclo");
      cicle[1] = new Array("Selecione o ciclo","Simple","Bi-Horário","Tri-Horário");
      cicle[2] = new Array("Selecione o ciclo","Diario","Semanal");
      cicle[3] = new Array("Selecione o ciclo","Semanal  c/ feriados","Semanal c/opção do cliente");

      const btn_tension = new Array("Selecione","1.15","2.30","3.45","4.60","5.75","6.90","10.35","13.80","17.25","20.70","27.60","34.50","41.40");

      function changeCicle(tension_selection_combo){
        const comboValueCicle = tension_selection_combo.value;
        document.forms["form"].elements["cicle_selection_combo"].options.length=0;
        for (var i = 0; i < cicle[comboValueCicle].length; i++) {
            var option_cicle = document.createElement("option");
            option_cicle.setAttribute('value', i+1);
            option_cicle.innerHTML = cicle[comboValueCicle][i];
            document.forms["form"].elements["cicle_selection_combo"].appendChild(option_cicle);
          }
        }

      function complete_btn_simple() {

          var select = document.createElement('select');
          select.setAttribute("id","hired-power");
          select.setAttribute("name","hired-power");
          select.setAttribute("class","form-control mb-30 col-lg-6");

          select.innerHTML = '' +
          '<option value="0">Selecione a potencia</option>' +
          '<option value="1.15">1.15</option>' +
          '<option value="2.30">2.30</option>' +
          '<option value="3.45">3.45</option>' +
          '<option value="4.60">4.60</option>' +
          '<option value="5.75">5.75</option>' +
          '<option value="6.90">6.90</option>' +
          '<option value="10.35">10.35</option>' +
          '<option value="13.80">13.80</option>' +
          '<option value="17.25">17.25</option>' +
          '<option value="20.70">20.70</option>';

          document.forms["form"].appendChild(select);

          var value_p_month = document.createElement('input');
          value_p_month.setAttribute("type","text");
          value_p_month.setAttribute("name","value_p_month");
          value_p_month.setAttribute("class","form-control mb-30 col-lg-6");
          value_p_month.setAttribute("placeholder","Valor por mês");
          document.forms["form"].appendChild(value_p_month)

          var btn = document.createElement('button');
          btn.setAttribute("type","submit");
          btn.setAttribute("class","btn send_btn");
          btn.textContent = 'Faça a simulação';
          document.forms["form"].appendChild(btn);

        }

      function complete_btn_bi() {

        var select = document.createElement('select');
        select.setAttribute("id","hired-power");
        select.setAttribute("name","hired-power");
        select.setAttribute("class","form-control mb-30 col-lg-6");

        select.innerHTML = '' +
        '<option value="0">Selecione a potencia</option>' +
        '<option value="3.45">3.45</option>' +
        '<option value="4.60">4.60</option>' +
        '<option value="5.75">5.75</option>' +
        '<option value="6.90">6.90</option>' +
        '<option value="10.35">10.35</option>' +
        '<option value="13.80">13.80</option>' +
        '<option value="17.25">17.25</option>' +
        '<option value="20.70">20.70</option>';

        document.forms["form"].appendChild(select);

          var value_p_month = document.createElement('input');
          value_p_month.setAttribute("type","text");
          value_p_month.setAttribute("name","value_p_month");
          value_p_month.setAttribute("class","form-control mb-30 col-lg-6");
          value_p_month.setAttribute("placeholder","Valor por mês");
          document.forms["form"].appendChild(value_p_month)

          var btn = document.createElement('button');
          btn.setAttribute("type","submit");
          btn.setAttribute("class","btn send_btn");
          btn.textContent = 'Faça a simulação';
          document.forms["form"].appendChild(btn);
        }

      function complete_btn_tri() {

        var select = document.createElement('select');
        select.setAttribute("id","hired-power");
        select.setAttribute("name","hired-power");
        select.setAttribute("class","form-control mb-30 col-lg-6");

        select.innerHTML = '' +
        '<option value="0">Selecione a potencia</option>' +
        '<option value="3.45">3.45</option>' +
        '<option value="4.60">4.60</option>' +
        '<option value="5.75">5.75</option>' +
        '<option value="6.90">6.90</option>' +
        '<option value="10.35">10.35</option>' +
        '<option value="13.80">13.80</option>' +
        '<option value="17.25">17.25</option>' +
        '<option value="20.70">20.70</option>' +
        '<option value="27.60">27.60</option>' +
        '<option value="34.50">34.50</option>' +
        '<option value="41.40">41.40</option>';

        document.forms["form"].appendChild(select);

          var value_p_month = document.createElement('input');
          value_p_month.setAttribute("type","text");
          value_p_month.setAttribute("name","value_p_month");
          value_p_month.setAttribute("class","form-control mb-30 col-lg-6");
          value_p_month.setAttribute("placeholder","Valor por mês");
          document.forms["form"].appendChild(value_p_month)

          var btn = document.createElement('button');
          btn.setAttribute("type","submit");
          btn.setAttribute("class","btn send_btn");
          btn.textContent = 'Faça a simulação';
          document.forms["form"].appendChild(btn);
        }

      function complete_mt_bte(){

          var select = document.createElement('select');
          select.setAttribute("id","network");
          select.setAttribute("name","network");
          select.setAttribute("class","form-control mb-30 col-lg-6");

          select.innerHTML = '' +
          '<option value="0">Com redes</option>' +
          '<option value="0">Sem redes</option>';

          document.forms["form"].appendChild(select);

          var tarrif_pontas = document.createElement('input');
          tarrif_pontas.setAttribute("type","text");
          tarrif_pontas.setAttribute("name","input_tarrif_pontas");
          tarrif_pontas.setAttribute("class","form-control mb-30 col-lg-6");
          tarrif_pontas.setAttribute("placeholder","Consumo em horas de ponta");
          document.forms["form"].appendChild(tarrif_pontas);

          var tarrif_cheias = document.createElement('input');
          tarrif_cheias.setAttribute("type","text");
          tarrif_cheias.setAttribute("name","input_tarrif_cheias");
          tarrif_cheias.setAttribute("class","form-control mb-30 col-lg-6");
          tarrif_cheias.setAttribute("placeholder","Consumo em horas de cheia ");
          document.forms["form"].appendChild(tarrif_cheias);

          var tarrif_vazio_normal = document.createElement('input');
          tarrif_vazio_normal.setAttribute("type","text");
          tarrif_vazio_normal.setAttribute("name","tarrif_vazio_normal");
          tarrif_vazio_normal.setAttribute("class","form-control mb-30 col-lg-6");
          tarrif_vazio_normal.setAttribute("placeholder","Consumo em horas de vazio normal");
          document.forms["form"].appendChild(tarrif_vazio_normal);

          var tarrif_super_vazio = document.createElement('input');
          tarrif_super_vazio.setAttribute("type","text");
          tarrif_super_vazio.setAttribute("name","tarrif_super_vazio");
          tarrif_super_vazio.setAttribute("class","form-control mb-30 col-lg-6");
          tarrif_super_vazio.setAttribute("placeholder","Consumo em horas de super vazio ");
          document.forms["form"].appendChild(tarrif_super_vazio);


          var value_p_month = document.createElement('input');
          value_p_month.setAttribute("type","text");
          value_p_month.setAttribute("name","value_p_month");
          value_p_month.setAttribute("class","form-control mb-30 col-lg-6");
          value_p_month.setAttribute("placeholder","Valor por mês");
          document.forms["form"].appendChild(value_p_month);

          var btn = document.createElement('button');
          btn.setAttribute("type","submit");
          btn.setAttribute("class","btn send_btn");
          btn.textContent = 'Faça a simulação';

          document.forms["form"].appendChild(btn);
        }

      function moreOptions(tension_selection_combo, cicle_selection_combo){
          var tensionChosen =  tension_selection_combo.value;
          var cicleChosen = cicle_selection_combo.value;
          if (tensionChosen == 1) {
            if (cicleChosen == 2) {
              complete_btn_simple();
            }
            if (cicleChosen == 3) {
              complete_btn_bi();
            }
            if (cicleChosen == 4) {
              complete_btn_tri();
            }
          }
          if (tensionChosen == 2 || tensionChosen == 3) {
            complete_mt_bte();
          }
        }

  </script>

  <!-- ***** Contact Area Start ***** -->
  {% if simulation_name %}
      <center>
      <h2>Obrigado {{ simulation_name }}!</h2>
      <p>Receberá no seu email o resultado da simulação!</p>
      </center>
    <br/><br/><br/>
  {% else %}

  <section class="contact-area mt-50 mb-100">
    <div class="container">
      <div class="row">
        <!-- Contact Form -->
        <div class="col-12 col-md-8">
          <div class="contact-form">
            <!-- Section Heading -->
            <div class="section-heading">
              <h2>Faça uma simulação do seu plano energético com NeedWatt</h2>
              <div class="line"></div>
            </div>
            <!-- Form -->
            <form action="" method="post" name="form">
              {% csrf_token %}
              <div class="row">
                <div class="col-lg-6">
                  <input type="text" name="simulation-name" class="form-control mb-30" placeholder="O seu nome/empresa">
                </div>
                <div class="col-lg-6">
                  <input type="email" name="simulation-email" class="form-control mb-30" placeholder="O seu email">
                </div>
              <div class="col-lg-6">
                <select name="tension_selection_combo" id="" class="form-control mb-30" onchange="changeCicle(this);">
                    <option value="0">Selecione o tipo de tensão</option>
                    <option value="1">BTN</option>
                    <option value="2">BTE</option>
                    <option value="3">MT</option>
                </select>
                <select name="cicle_selection_combo" id="" class="form-control mb-30" onchange="moreOptions(tension_selection_combo,this)">
                </select>
              </div>
                  </div>
            </form>
          </div>
        </div>
      </div>
    </div>
  </section>
  {% endif %}
  <!-- ***** Contact Area End ***** -->

      <!-- ***** Footer Start ***** -->
      <footer>
          <div class="container">
              <div class="row">
                <div class="col-lg-4 col-xs-12">
                  <div class="left-text-content">
                      <p>Contacto: <strong>916530234</strong></p>
                      <p>Contacto: <strong>927579369</strong></p>
                        <p>Email: <strong>geral@needwatt.com</strong></p>
                  </div>
                </div>
                  <div class="col-lg-4">
                      <div class="logo">
                          <a href="home.html"><img src="{% static 'main/images/logo0.png' %}" alt=""></a>
                      </div>
                  </div>
                  <div class="col-lg-4 col-xs-12">
                      <div class="left-text-content">
                          <p>© Copyright NeedWatt
                      </div>
                  </div>
              </div>
          </div>
      </footer>

      <!-- jQuery -->
      <script src="{% static 'main/js/jquery-2.1.0.min.js' %}"></script>

      <!-- Bootstrap -->
      <script src="{% static 'main/js/popper.js' %}"></script>
      <script src="{% static 'main/js/bootstrap.min.js' %}"></script>

      <!-- Plugins -->
      <script src="{% static 'main/js/owl-carousel.js' %}"></script>
      <script src="{% static 'main/js/accordions.js' %}"></script>
      <script src="{% static 'main/js/datepicker.js' %}"></script>
      <script src="{% static 'main/js/scrollreveal.min.js' %}"></script>
      <script src="{% static 'main/js/waypoints.min.js' %}"></script>
      <script src="{% static 'main/js/jquery.counterup.min.js' %}"></script>
      <script src="{% static 'main/js/imgfix.min.js' %}"></script>
      <script src="{% static 'main/js/slick.js' %}"></script>
      <script src="{% static 'main/js/lightbox.js' %}"></script>
      <script src="{% static 'main/js/isotope.js' %}"></script>

      <!-- Global Init -->
      <script src="{% static 'main/js/custom.js' %}"></script>
      <script>

          $(function() {
              var selectedClass = "";
              $("p").click(function(){
              selectedClass = $(this).attr("data-rel");
              $("#portfolio").fadeTo(50, 0.1);
                  $("#portfolio div").not("."+selectedClass).fadeOut();
              setTimeout(function() {
                $("."+selectedClass).fadeIn();
                $("#portfolio").fadeTo(50, 1);
              }, 500);

              });
          });

      </script>
    </body>
  </html>
